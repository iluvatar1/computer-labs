{
  "description": "A slackware 64-bit current installation with Virtualbox tools installed",
  "builders": [{
    "type": "virtualbox-iso",
    "guest_os_type": "Linux26_64",
    "iso_url": "file:///Users/oquendo/repos/computer-labs/packer/slackware64-current-install-dvd.iso",
    "iso_checksum": "891d4ea3023e2ea9a2ee9f8264614a69",
    "iso_checksum_type": "md5",
    "ssh_username": "root",
    "ssh_password": "vagrant",
    "vm_name":"slackware-current-vbox",
    "shutdown_command": "shutdown -h now",
    "hard_drive_interface": "sata",
    "disk_size":30000,
    "usb":true,
    "skip_export":false,
    "vboxmanage": [
	["modifyvm", "{{.Name}}", "--memory", 3000],
	["modifyvm", "{{.Name}}", "--cpus", 2],
	["modifyvm", "{{.Name}}", "--vram", 128],
	["modifyvm", "{{.Name}}", "--cpuhotplug", "on"],
	["modifyvm", "{{.Name}}", "--hwvirtex", "on"],	
	["modifyvm", "{{.Name}}", "--accelerate3d", "on"],	
	["modifyvm", "{{.Name}}", "--rtcuseutc", "on"],	
	["modifyvm", "{{.Name}}", "--graphicscontroller", "vmsvga"],	
	["modifyvm", "{{.Name}}", "--nic1", "nat"],	
	["modifyvm", "{{.Name}}", "--clipboard-mode", "bidirectional"],	
	["modifyvm", "{{.Name}}", "--draganddrop", "bidirectional"],	
	["modifyvm", "{{.Name}}", "--usbehci", "on"],	
	["modifyvm", "{{.Name}}", "--usbxhci", "on"]	
    ],
    "export_opts": [
      "--manifest",
      "--vsys", "0",
      "--description", "Slackware64 current",
      "--version", "0.1.0"
    ],
    "boot_command": [
	"<wait><enter><wait15s>",
	"<wait>1<enter>",
	"<wait><enter>",
	"<wait>1<enter>",
	"<wait>root<enter>",
	"<wait>fdisk /dev/sda<enter>",
	"<wait>o<enter>n<enter>p<enter>1<enter><enter><enter>w<enter>",
	"<wait>setup<enter><wait2s>",
	"<wait>t<wait><enter><wait><enter>f<enter><wait><enter><wait3><enter>",
	"<wait>1<enter>a<enter><wait3>",
	"<wait>f<spacebar>kk<spacebar><enter>",
	"<wait>f<enter>",
	"<wait14m>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait5s>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait><enter>",	
	"<wait>slackware<enter>",
	"<wait>example.org<enter>",
	"<wait>d<enter>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait><down><down><down><down><down><down><down><down><down><down><down><down><down><spacebar><enter>",
	"<wait>n",
	"<wait>n<enter>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait>vagrant<enter>",
	"<wait>vagrant<enter>",
	"<wait>vagrant<enter>",
	"<wait><enter>",
	"<wait><enter>",
	"<wait>e<wait><enter><wait><enter>",
	"<wait><enter>",
	"<wait5s><enter>",
	"<wait10><wait10><wait10><wait10>",
	"root<enter>",
	"<wait>vagrant<enter>",
	"echo PermitRootLogin yes >> /etc/ssh/sshd_config<enter>",
	"/etc/rc.d/rc.sshd restart<enter>"
    ]
  }],
  "provisioners": [{
    "type": "shell",
    "script": "config_teaching_box.sh"
  }],
  "post-processors": ["vagrant"]
}
